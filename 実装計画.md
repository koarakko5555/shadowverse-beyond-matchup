## 実装計画（ゴールから逆算）

### ゴール: 本番で安定稼働（Vercel + Supabase）
1. **本番の動作確認**
   - Vercel 環境変数に `DATABASE_URL` を設定。
   - Supabase の本番DBにマイグレーションを適用。
   - 主要画面とAPIの動作確認（登録・一覧・集計）。

2. **本番デプロイ**
   - Vercel にデプロイ。
   - リリース後に基本導線（カードパック → デッキ → 相性評価）を一巡確認。

---

### フェーズ4: 最終調整とテスト（ゴール直前）
1. **レスポンシブ対応**
   - モバイルでの入力UIの調整（フォーム幅/ボタン/表のスクロール）。
   - レイアウト崩れの修正。

2. **動作確認・テスト**
   - 主要ユースケースの動作確認。
   - 可能なら簡易テスト（入力→保存→表示の往復）。

---

### フェーズ3: 統計表示（ゴールの直前機能）
1. **集計ロジックの確定**
   - デッキ別の平均相性スコアを算出。
   - メンバー別集計の方針を決定（必要ならテーブル設計を追加）。

2. **統計画面の作成**
   - 表形式で表示。
   - 必要に応じてグラフを追加。

---

### フェーズ2: 基本機能（基盤の完成）
1. **相性評価機能**
   - デッキ同士の相性を登録・修正。
   - UI: 対象デッキ選択 + 評価値入力。
   - API: create/update/read を実装。

2. **デッキ登録機能**
   - デッキ登録・編集。
   - クラス選択 + デッキ名入力。
   - カードパックとの紐付け。

3. **カードパック登録機能**
   - カードパックの登録・削除。
   - 一覧表示 + 登録フォーム。
   - API ルートを用意。

---

### フェーズ1: プロジェクト基盤（最初にやること）
1. **環境構築**
   - Next.js + TypeScript。
   - Tailwind CSS。
   - ESLint / Prettier。

2. **データベース構築（現在進行中）**
   - Supabase で Postgres を用意。
   - `schema.prisma` を整備。
   - `DATABASE_URL` を `.env` に設定。
   - `prisma migrate dev` を実行。
   - Prisma Client 生成。

3. **デプロイ準備**
   - Vercel プロジェクト作成。
   - Supabase の接続情報を Vercel に設定。

---

### 動作確認ポイント
- フェーズごとに動作確認を実施。
- 各機能の完成時に、以下を確認：
  - フロントエンドの操作性。
  - API のレスポンス。
  - データベースへの保存状況。
