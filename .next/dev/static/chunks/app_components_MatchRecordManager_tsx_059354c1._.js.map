{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/k-hosaka/Project/private-dev/shadowverse-beyond-matchup/app/components/MatchRecordManager.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useState, useTransition } from \"react\";\nimport { useRouter } from \"next/navigation\";\n\ntype CardPack = {\n  id: number;\n  name: string;\n  releaseDate: string;\n};\n\ntype Deck = {\n  id: number;\n  name: string;\n  deckClass: string;\n  cardPack: CardPack;\n};\n\ntype User = {\n  id: number;\n  name: string;\n};\n\ntype MatchRecord = {\n  id: number;\n  deck: Deck;\n  opponentDeck: Deck;\n  user: User;\n  turn: \"FIRST\" | \"SECOND\";\n  result: \"WIN\" | \"LOSS\";\n  note: string;\n  createdAt: string;\n};\n\ntype Props = {\n  decks: Deck[];\n  cardPacks: CardPack[];\n  records: MatchRecord[];\n};\n\nconst deckClassLabels: Record<string, string> = {\n  ELF: \"エルフ\",\n  ROYAL: \"ロイヤル\",\n  WITCH: \"ウィッチ\",\n  NIGHTMARE: \"ナイトメア\",\n  DRAGON: \"ドラゴン\",\n  BISHOP: \"ビショップ\",\n  NEMESIS: \"ネメシス\",\n};\n\nconst turnLabels: Record<MatchRecord[\"turn\"], string> = {\n  FIRST: \"先攻\",\n  SECOND: \"後攻\",\n};\n\nconst resultLabels: Record<MatchRecord[\"result\"], string> = {\n  WIN: \"勝ち\",\n  LOSS: \"負け\",\n};\n\nconst formatRate = (value: number | null) =>\n  value === null ? \"-\" : Number.isInteger(value) ? `${value}` : value.toFixed(1);\n\nexport default function MatchRecordManager({ decks, cardPacks, records }: Props) {\n  const router = useRouter();\n  const [isPending, startTransition] = useTransition();\n  const [deckId, setDeckId] = useState(\"\");\n  const [opponentDeckId, setOpponentDeckId] = useState(\"\");\n  const [turn, setTurn] = useState<MatchRecord[\"turn\"]>(\"FIRST\");\n  const [result, setResult] = useState<MatchRecord[\"result\"]>(\"WIN\");\n  const [note, setNote] = useState(\"\");\n  const [editingId, setEditingId] = useState<number | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [flashMessage, setFlashMessage] = useState<string | null>(null);\n  const [activePackId, setActivePackId] = useState<number | null>(null);\n  const [page, setPage] = useState(1);\n\n  const pageSize = 10;\n\n  useEffect(() => {\n    if (activePackId !== null || cardPacks.length === 0) return;\n    setActivePackId(cardPacks[0].id);\n  }, [activePackId, cardPacks]);\n\n  const filteredDecks = useMemo(() => {\n    if (!activePackId) return [];\n    return decks.filter((deck) => deck.cardPack.id === activePackId);\n  }, [activePackId, decks]);\n\n  const filteredRecords = useMemo(() => {\n    if (!activePackId) return [];\n    return records.filter((record) => record.deck.cardPack.id === activePackId);\n  }, [activePackId, records]);\n\n  useEffect(() => {\n    setPage(1);\n  }, [activePackId]);\n\n  const lastUsedDeckId = useMemo(() => {\n    for (const record of filteredRecords) {\n      if (record.deck?.id) return record.deck.id;\n    }\n    return null;\n  }, [filteredRecords]);\n\n  useEffect(() => {\n    if (deckId || !lastUsedDeckId) return;\n    setDeckId(String(lastUsedDeckId));\n  }, [deckId, lastUsedDeckId]);\n\n  const selectedDeck = useMemo(\n    () => filteredDecks.find((deck) => deck.id === Number(deckId)),\n    [deckId, filteredDecks]\n  );\n\n  const opponentOptions = useMemo(() => {\n    if (!selectedDeck) return filteredDecks;\n    return filteredDecks.filter(\n      (deck) => deck.cardPack.id === selectedDeck.cardPack.id\n    );\n  }, [filteredDecks, selectedDeck]);\n\n  const deckOptions = useMemo(\n    () =>\n      filteredDecks.map((deck) => ({\n        id: deck.id,\n        label: `${deck.name} (${deckClassLabels[deck.deckClass] ?? deck.deckClass})`,\n        cardPack: deck.cardPack.name,\n        cardPackId: deck.cardPack.id,\n      })),\n    [filteredDecks]\n  );\n\n  const summaryRecords = useMemo(() => {\n    if (!deckId) return [];\n    return filteredRecords.filter(\n      (record) => record.deck.id === Number(deckId)\n    );\n  }, [deckId, filteredRecords]);\n\n  const summary = useMemo(() => {\n    const total = summaryRecords.length;\n    const wins = summaryRecords.filter((record) => record.result === \"WIN\").length;\n    const firstTotal = summaryRecords.filter(\n      (record) => record.turn === \"FIRST\"\n    ).length;\n    const firstWins = summaryRecords.filter(\n      (record) => record.turn === \"FIRST\" && record.result === \"WIN\"\n    ).length;\n    const secondTotal = summaryRecords.filter(\n      (record) => record.turn === \"SECOND\"\n    ).length;\n    const secondWins = summaryRecords.filter(\n      (record) => record.turn === \"SECOND\" && record.result === \"WIN\"\n    ).length;\n    return {\n      total,\n      wins,\n      rate: total ? (wins / total) * 100 : null,\n      firstRate: firstTotal ? (firstWins / firstTotal) * 100 : null,\n      secondRate: secondTotal ? (secondWins / secondTotal) * 100 : null,\n      firstTotal,\n      secondTotal,\n    };\n  }, [filteredRecords, summaryRecords]);\n\n  const totalPages = Math.max(1, Math.ceil(summaryRecords.length / pageSize));\n  const currentPage = Math.min(page, totalPages);\n  const pagedRecords = summaryRecords.slice(\n    (currentPage - 1) * pageSize,\n    currentPage * pageSize\n  );\n\n  const onSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    setError(null);\n\n    if (!deckId || !opponentDeckId) {\n      setError(\"デッキを選択してください。\");\n      return;\n    }\n\n    const payload = {\n      deckId: Number(deckId),\n      opponentDeckId: Number(opponentDeckId),\n      turn,\n      result,\n      note,\n    };\n\n    const targetUrl = editingId\n      ? `/api/match-records/${editingId}`\n      : \"/api/match-records\";\n    const method = editingId ? \"PUT\" : \"POST\";\n\n    const res = await fetch(targetUrl, {\n      method,\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(payload),\n    });\n\n    if (!res.ok) {\n      const data = await res.json().catch(() => ({}));\n      setError(data?.error ?? \"登録に失敗しました。\");\n      return;\n    }\n\n    setOpponentDeckId(\"\");\n    setTurn(\"FIRST\");\n    setResult(\"WIN\");\n    setNote(\"\");\n    setEditingId(null);\n    startTransition(() => router.refresh());\n  };\n\n  const onEdit = (record: MatchRecord) => {\n    setDeckId(String(record.deck.id));\n    setOpponentDeckId(String(record.opponentDeck.id));\n    setTurn(record.turn);\n    setResult(record.result);\n    setNote(record.note ?? \"\");\n    setEditingId(record.id);\n  };\n\n  const onCancelEdit = () => {\n    setOpponentDeckId(\"\");\n    setTurn(\"FIRST\");\n    setResult(\"WIN\");\n    setNote(\"\");\n    setEditingId(null);\n    setError(null);\n  };\n\n  const onDelete = async (id: number) => {\n    setError(null);\n    const res = await fetch(`/api/match-records/${id}`, {\n      method: \"DELETE\",\n    });\n\n    if (!res.ok) {\n      const data = await res.json().catch(() => ({}));\n      setError(data?.error ?? \"削除に失敗しました。\");\n      return;\n    }\n\n    setFlashMessage(\"削除しました！\");\n    startTransition(() => router.refresh());\n  };\n\n  return (\n    <div className=\"space-y-8\">\n      <section className=\"rounded-2xl bg-transparent\">\n        <div className=\"flex flex-wrap gap-2 px-4 pt-3\">\n          {cardPacks.map((pack) => (\n            <button\n              key={pack.id}\n              type=\"button\"\n              className={`relative -mb-px rounded-t-xl border border-b-0 px-5 py-2 text-xs font-semibold transition ${\n                activePackId === pack.id\n                  ? \"border-zinc-900 bg-white text-zinc-900\"\n                  : \"border-zinc-200 bg-zinc-100 text-zinc-600 hover:bg-zinc-200\"\n              }`}\n              onClick={() => setActivePackId(pack.id)}\n            >\n              {pack.name}\n            </button>\n          ))}\n        </div>\n        <div className=\"-mt-px rounded-t-2xl rounded-b-2xl border-x border-b border-white bg-white p-6 shadow-sm\">\n          <div>\n            <p className=\"text-xs font-semibold uppercase tracking-[0.3em] text-zinc-400\">\n              Records\n            </p>\n            <h2 className=\"mt-2 text-2xl font-semibold text-zinc-900\">\n              {editingId ? \"戦績の編集\" : \"戦績の登録\"}\n            </h2>\n          </div>\n\n          <div className=\"mt-6\">\n            <label className=\"flex flex-col gap-2 text-sm text-zinc-700 md:max-w-sm\">\n              使用デッキ\n              <select\n                className=\"rounded-lg border border-zinc-200 px-3 py-2 text-sm text-zinc-900 focus:border-zinc-400 focus:outline-none\"\n                value={deckId}\n                onChange={(event) => {\n                  setDeckId(event.target.value);\n                  setOpponentDeckId(\"\");\n                }}\n              >\n                <option value=\"\">選択してください</option>\n                {deckOptions.map((deck) => (\n                  <option key={deck.id} value={deck.id}>\n                    {deck.label} / {deck.cardPack}\n                  </option>\n                ))}\n              </select>\n            </label>\n          </div>\n\n          <form className=\"mt-6 grid gap-4 md:grid-cols-4\" onSubmit={onSubmit}>\n          <label className=\"flex flex-col gap-2 text-sm text-zinc-700 md:col-span-2\">\n            対戦デッキ\n            <select\n              className=\"rounded-lg border border-zinc-200 px-3 py-2 text-sm text-zinc-900 focus:border-zinc-400 focus:outline-none\"\n              value={opponentDeckId}\n              onChange={(event) => setOpponentDeckId(event.target.value)}\n            >\n              <option value=\"\">選択してください</option>\n              {opponentOptions.map((deck) => (\n                <option key={deck.id} value={deck.id}>\n                  {deck.name} / {deck.cardPack.name}\n                </option>\n              ))}\n            </select>\n          </label>\n          <label className=\"flex flex-col gap-2 text-sm text-zinc-700\">\n            先攻/後攻\n            <select\n              className=\"rounded-lg border border-zinc-200 px-3 py-2 text-sm text-zinc-900 focus:border-zinc-400 focus:outline-none\"\n              value={turn}\n              onChange={(event) =>\n                setTurn(event.target.value as MatchRecord[\"turn\"])\n              }\n            >\n              <option value=\"FIRST\">先攻</option>\n              <option value=\"SECOND\">後攻</option>\n            </select>\n          </label>\n          <label className=\"flex flex-col gap-2 text-sm text-zinc-700\">\n            勝敗\n            <select\n              className=\"rounded-lg border border-zinc-200 px-3 py-2 text-sm text-zinc-900 focus:border-zinc-400 focus:outline-none\"\n              value={result}\n              onChange={(event) =>\n                setResult(event.target.value as MatchRecord[\"result\"])\n              }\n            >\n              <option value=\"WIN\">勝ち</option>\n              <option value=\"LOSS\">負け</option>\n            </select>\n          </label>\n          <label className=\"flex flex-col gap-2 text-sm text-zinc-700 md:col-span-4\">\n            備考\n            <textarea\n              className=\"min-h-[110px] rounded-lg border border-zinc-200 px-3 py-2 text-sm text-zinc-900 focus:border-zinc-400 focus:outline-none\"\n              value={note}\n              onChange={(event) => setNote(event.target.value)}\n              placeholder=\"任意でメモを入力してください\"\n            />\n          </label>\n          <div className=\"flex flex-col gap-3 md:col-span-4 md:flex-row md:items-end md:justify-start\">\n            <button\n              className=\"w-full rounded-lg bg-zinc-900 px-4 py-2 text-sm font-semibold text-white hover:bg-zinc-800 disabled:cursor-not-allowed disabled:bg-zinc-400 md:w-auto md:min-w-[160px]\"\n              type=\"submit\"\n              disabled={isPending}\n            >\n              {editingId ? \"更新する\" : \"登録する\"}\n            </button>\n            {editingId && (\n              <button\n                className=\"w-full rounded-lg border border-zinc-200 px-4 py-2 text-sm font-semibold text-zinc-700 hover:bg-zinc-100 md:w-auto md:min-w-[160px]\"\n                type=\"button\"\n                onClick={onCancelEdit}\n              >\n                編集をやめる\n              </button>\n            )}\n          </div>\n          </form>\n          {flashMessage && (\n            <p className=\"mt-3 text-sm font-semibold text-emerald-600\">\n              {flashMessage}\n            </p>\n          )}\n          {error && <p className=\"mt-3 text-sm text-red-600\">{error}</p>}\n\n          <div className=\"mt-8 border-t border-zinc-100 pt-8\">\n            <div>\n              <p className=\"text-xs font-semibold uppercase tracking-[0.3em] text-zinc-400\">\n                Summary\n              </p>\n              <h3 className=\"mt-2 text-lg font-semibold text-zinc-900\">\n                戦績サマリー\n              </h3>\n            </div>\n\n            <div className=\"mt-6 overflow-x-auto\">\n              <table className=\"min-w-full text-left text-sm text-zinc-700\">\n                <thead className=\"border-b border-zinc-200 bg-zinc-50 text-xs uppercase tracking-wider text-zinc-400\">\n                  <tr>\n                    <th className=\"px-3 py-2 text-center\">全体勝率</th>\n                    <th className=\"px-3 py-2 text-center\">先攻勝率</th>\n                    <th className=\"px-3 py-2 text-center\">後攻勝率</th>\n                    <th className=\"px-3 py-2 text-center\">試合数</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr className=\"border-b border-zinc-100\">\n                    <td className=\"px-3 py-3 text-center font-semibold text-zinc-900\">\n                      {formatRate(summary.rate)}\n                    </td>\n                    <td className=\"px-3 py-3 text-center\">\n                      {formatRate(summary.firstRate)}\n                    </td>\n                    <td className=\"px-3 py-3 text-center\">\n                      {formatRate(summary.secondRate)}\n                    </td>\n                    <td className=\"px-3 py-3 text-center\">{summary.total}</td>\n                  </tr>\n                </tbody>\n              </table>\n              {!deckId && (\n                <p className=\"mt-4 text-sm text-zinc-500\">\n                  デッキを選択してください。\n                </p>\n              )}\n              {deckId && summary.total === 0 && (\n                <p className=\"mt-4 text-sm text-zinc-500\">\n                  選択したデッキの戦績がありません。\n                </p>\n              )}\n            </div>\n          </div>\n\n          <div className=\"mt-8 border-t border-zinc-100 pt-8\">\n            <div className=\"flex items-center justify-between\">\n              <h3 className=\"text-lg font-semibold text-zinc-900\">戦績一覧</h3>\n              <span className=\"text-sm text-zinc-500\">{summaryRecords.length}件</span>\n            </div>\n            <div className=\"mt-4 space-y-3\">\n              {summaryRecords.length === 0 && (\n                <p className=\"text-sm text-zinc-500\">まだ登録がありません。</p>\n              )}\n              {pagedRecords.map((record) => (\n                <div\n                  key={record.id}\n                  className={`flex flex-wrap items-center justify-between gap-3 rounded-lg border px-4 py-3 ${\n                    record.result === \"WIN\"\n                      ? \"border-emerald-100 bg-emerald-50\"\n                      : \"border-rose-100 bg-rose-50\"\n                  }`}\n                >\n                  <div className=\"min-w-0\">\n                    <div className=\"flex flex-wrap items-center gap-2\">\n                      <p className=\"text-sm font-semibold text-zinc-900\">\n                        {record.deck.name} vs {record.opponentDeck.name}\n                      </p>\n                      <span\n                        className={`rounded-full px-3 py-1 text-xs font-semibold ${\n                          record.result === \"WIN\"\n                            ? \"bg-emerald-500 text-white\"\n                            : \"bg-rose-500 text-white\"\n                        }`}\n                      >\n                        {resultLabels[record.result]}\n                      </span>\n                    </div>\n                    {record.note && (\n                      <p className=\"mt-2 text-xs text-zinc-600\">{record.note}</p>\n                    )}\n                  </div>\n                  <div className=\"flex items-center gap-4\">\n                    <button\n                      className=\"text-sm font-semibold text-zinc-700 hover:text-zinc-900\"\n                      onClick={() => onEdit(record)}\n                      type=\"button\"\n                    >\n                      編集\n                    </button>\n                    <button\n                      className=\"text-sm font-semibold text-red-600 hover:text-red-700\"\n                      onClick={() => onDelete(record.id)}\n                      type=\"button\"\n                    >\n                      削除\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n            {summaryRecords.length > pageSize && (\n              <div className=\"mt-6 flex flex-wrap items-center justify-between gap-3\">\n                <p className=\"text-xs text-zinc-500\">\n                  {currentPage}/{totalPages}ページ\n                </p>\n                <div className=\"flex items-center gap-2\">\n                  <button\n                    className=\"rounded-full border border-zinc-200 px-3 py-1 text-xs font-semibold text-zinc-700 hover:bg-zinc-100 disabled:cursor-not-allowed disabled:opacity-50\"\n                    type=\"button\"\n                    onClick={() => setPage((prev) => Math.max(1, prev - 1))}\n                    disabled={currentPage === 1}\n                  >\n                    前へ\n                  </button>\n                  <button\n                    className=\"rounded-full border border-zinc-200 px-3 py-1 text-xs font-semibold text-zinc-700 hover:bg-zinc-100 disabled:cursor-not-allowed disabled:opacity-50\"\n                    type=\"button\"\n                    onClick={() =>\n                      setPage((prev) => Math.min(totalPages, prev + 1))\n                    }\n                    disabled={currentPage === totalPages}\n                  >\n                    次へ\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}