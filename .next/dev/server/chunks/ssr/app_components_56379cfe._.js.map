{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/k-hosaka/Project/private-dev/shadowverse-beyond-matchup/app/components/StatsTable.tsx"],"sourcesContent":[" \"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\n\ntype CardPack = {\n  id: number;\n  name: string;\n};\n\ntype Deck = {\n  id: number;\n  name: string;\n  deckClass: string;\n  cardPack: CardPack;\n};\n\ntype Matchup = {\n  id: number;\n  deck1: Deck;\n  deck2: Deck;\n  user: User;\n  winRate: number;\n};\n\ntype Props = {\n  decks: Deck[];\n  matchups: Matchup[];\n  embedded?: boolean;\n};\n\ntype User = {\n  id: number;\n  name: string;\n};\n\nconst deckClassLabels: Record<string, string> = {\n  ELF: \"エルフ\",\n  ROYAL: \"ロイヤル\",\n  WITCH: \"ウィッチ\",\n  NIGHTMARE: \"ナイトメア\",\n  DRAGON: \"ドラゴン\",\n  BISHOP: \"ビショップ\",\n  NEMESIS: \"ネメシス\",\n};\n\nconst deckClassOrder = [\n  \"ELF\",\n  \"ROYAL\",\n  \"WITCH\",\n  \"DRAGON\",\n  \"NIGHTMARE\",\n  \"BISHOP\",\n  \"NEMESIS\",\n] as const;\nconst deckClassRank = new Map(deckClassOrder.map((value, index) => [value, index]));\n\nconst buildAverageStats = (decks: Deck[], matchups: Matchup[]) =>\n  decks\n    .map((deck) => {\n      const scores: number[] = [];\n      for (const matchup of matchups) {\n        if (matchup.deck1.id === deck.id) {\n          scores.push(matchup.winRate);\n        } else if (matchup.deck2.id === deck.id) {\n          scores.push(100 - matchup.winRate);\n        }\n      }\n      const total = scores.reduce((sum, value) => sum + value, 0);\n      const avg = scores.length ? total / scores.length : null;\n      return {\n        deckId: deck.id,\n        name: deck.name,\n        deckClass: deck.deckClass,\n        cardPack: deck.cardPack.name,\n        average: avg,\n        count: scores.length,\n      };\n    })\n    .sort((a, b) => {\n      if (a.average === null && b.average === null) {\n        return a.name.localeCompare(b.name, \"ja-JP\");\n      }\n      if (a.average === null) return 1;\n      if (b.average === null) return -1;\n      return b.average - a.average;\n    });\n\nconst buildMatchupMatrix = (decks: Deck[], matchups: Matchup[]) => {\n  const totals = new Map<string, { sum: number; count: number }>();\n  for (const matchup of matchups) {\n    const lowId = Math.min(matchup.deck1.id, matchup.deck2.id);\n    const highId = Math.max(matchup.deck1.id, matchup.deck2.id);\n    const key = `${lowId}:${highId}`;\n    const winRateFromLow =\n      matchup.deck1.id === lowId ? matchup.winRate : 100 - matchup.winRate;\n    const entry = totals.get(key) ?? { sum: 0, count: 0 };\n    entry.sum += winRateFromLow;\n    entry.count += 1;\n    totals.set(key, entry);\n  }\n\n  return decks.map((row) =>\n    decks.map((col) => {\n      if (row.id === col.id) return null;\n      const lowId = Math.min(row.id, col.id);\n      const highId = Math.max(row.id, col.id);\n      const entry = totals.get(`${lowId}:${highId}`);\n      if (!entry) return undefined;\n      const avgFromLow = entry.sum / entry.count;\n      return row.id === lowId ? avgFromLow : 100 - avgFromLow;\n    })\n  );\n};\n\nexport default function StatsTable({ decks, matchups, embedded }: Props) {\n  const [activeTab, setActiveTab] = useState<number | null>(null);\n  const sortedDecks = useMemo(() => {\n    return decks.slice().sort((a, b) => {\n      const rankA = deckClassRank.get(a.deckClass) ?? 999;\n      const rankB = deckClassRank.get(b.deckClass) ?? 999;\n      if (rankA !== rankB) return rankA - rankB;\n      return a.id - b.id;\n    });\n  }, [decks]);\n\n  const users = useMemo(() => {\n    const seen = new Map<number, string>();\n    for (const matchup of matchups) {\n      if (!seen.has(matchup.user.id)) {\n        seen.set(matchup.user.id, matchup.user.name);\n      }\n    }\n    return Array.from(seen.entries()).map(([id, name]) => ({ id, name }));\n  }, [matchups]);\n\n  useEffect(() => {\n    if (activeTab !== null || users.length === 0) return;\n    setActiveTab(users[0].id);\n  }, [activeTab, users]);\n\n  const formatRate = (value: number) =>\n    Number.isInteger(value) ? value.toString() : value.toFixed(1);\n\n  const stats = useMemo(\n    () => buildAverageStats(sortedDecks, matchups),\n    [sortedDecks, matchups]\n  );\n  const overallMatrix = useMemo(\n    () => buildMatchupMatrix(sortedDecks, matchups),\n    [sortedDecks, matchups]\n  );\n  const activeMatchups = useMemo(() => {\n    if (!activeTab) return [];\n    return matchups.filter((matchup) => matchup.user.id === activeTab);\n  }, [activeTab, matchups]);\n  const activeMatrix = useMemo(\n    () => buildMatchupMatrix(sortedDecks, activeMatchups),\n    [sortedDecks, activeMatchups]\n  );\n\n  return (\n    <section\n      className={\n        embedded\n          ? \"bg-transparent\"\n          : \"rounded-2xl border border-zinc-200 bg-white p-6 shadow-sm\"\n      }\n    >\n      <div>\n        <p className=\"text-xs font-semibold uppercase tracking-[0.3em] text-zinc-400\">\n          Stats\n        </p>\n        <h2 className=\"mt-2 text-2xl font-semibold text-zinc-900\">\n          統計表示\n        </h2>\n      </div>\n\n      <div className=\"mt-6 overflow-x-auto\">\n        <table className=\"min-w-full table-fixed border-collapse text-center text-sm text-zinc-700\">\n          <thead className=\"bg-white text-xs uppercase tracking-wider text-zinc-400\">\n            <tr>\n              <th className=\"w-44 border border-zinc-300 bg-white px-3 py-2 text-left text-zinc-500\">\n                デッキ\n              </th>\n              {sortedDecks.map((deck) => (\n                <th\n                  key={deck.id}\n                  className=\"min-w-[110px] border border-zinc-300 bg-white px-2 py-2 text-xs text-zinc-500\"\n                >\n                  <div className=\"font-semibold text-zinc-900\">{deck.name}</div>\n                  <div className=\"text-[10px] text-zinc-400\">\n                    {deckClassLabels[deck.deckClass] ?? deck.deckClass}\n                  </div>\n                </th>\n              ))}\n            </tr>\n          </thead>\n          <tbody>\n            {sortedDecks.map((rowDeck, rowIndex) => (\n              <tr key={rowDeck.id}>\n                <th className=\"border border-zinc-300 bg-white px-3 py-3 text-left text-sm font-semibold text-zinc-900\">\n                  {rowDeck.name}\n                  <div className=\"text-xs font-normal text-zinc-500\">\n                    {deckClassLabels[rowDeck.deckClass] ?? rowDeck.deckClass}\n                    {\" / \"}\n                    {rowDeck.cardPack.name}\n                  </div>\n                </th>\n                {sortedDecks.map((colDeck, colIndex) => {\n                  const value = overallMatrix[rowIndex]?.[colIndex];\n                  const isSame = rowDeck.id === colDeck.id;\n                  return (\n                    <td\n                      key={colDeck.id}\n                      className=\"border border-zinc-300 px-2 py-3 text-sm\"\n                    >\n                      {isSame ? (\n                        <span className=\"text-base font-semibold text-zinc-400\">\n                          *\n                        </span>\n                      ) : value === undefined ? (\n                        <span className=\"text-zinc-400\">—</span>\n                      ) : (\n                        <span className=\"font-semibold text-zinc-900\">\n                          {formatRate(value)}\n                        </span>\n                      )}\n                    </td>\n                  );\n                })}\n              </tr>\n            ))}\n          </tbody>\n        </table>\n        {stats.length === 0 && (\n          <p className=\"mt-4 text-sm text-zinc-500\">\n            デッキが登録されていません。\n          </p>\n        )}\n      </div>\n\n      <div className=\"mt-10\">\n        <div className=\"flex flex-wrap items-center justify-between gap-3\">\n          <h3 className=\"text-lg font-semibold text-zinc-900\">\n            みんなの相性表\n          </h3>\n          <div className=\"flex flex-wrap gap-2\">\n            {users.map((user) => (\n              <button\n                key={user.id}\n                type=\"button\"\n                className={`rounded-full border px-4 py-2 text-xs font-semibold transition ${\n                  activeTab === user.id\n                    ? \"border-zinc-900 bg-zinc-900 text-white\"\n                    : \"border-zinc-200 text-zinc-600 hover:bg-zinc-100\"\n                }`}\n                onClick={() => setActiveTab(user.id)}\n              >\n                {user.name}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"mt-4 overflow-x-auto\">\n        <table className=\"min-w-full table-fixed border-collapse text-center text-sm text-zinc-700\">\n          <thead className=\"bg-white text-xs uppercase tracking-wider text-zinc-400\">\n            <tr>\n              <th className=\"w-44 border border-zinc-300 bg-white px-3 py-2 text-left text-zinc-500\">\n                デッキ\n              </th>\n              {sortedDecks.map((deck) => (\n                <th\n                  key={deck.id}\n                  className=\"min-w-[110px] border border-zinc-300 bg-white px-2 py-2 text-xs text-zinc-500\"\n                >\n                    <div className=\"font-semibold text-zinc-900\">{deck.name}</div>\n                    <div className=\"text-[10px] text-zinc-400\">\n                      {deckClassLabels[deck.deckClass] ?? deck.deckClass}\n                    </div>\n                  </th>\n                ))}\n              </tr>\n            </thead>\n            <tbody>\n            {sortedDecks.map((rowDeck, rowIndex) => (\n              <tr key={rowDeck.id}>\n                <th className=\"border border-zinc-300 bg-white px-3 py-3 text-left text-sm font-semibold text-zinc-900\">\n                  {rowDeck.name}\n                    <div className=\"text-xs font-normal text-zinc-500\">\n                      {deckClassLabels[rowDeck.deckClass] ?? rowDeck.deckClass}\n                      {\" / \"}\n                      {rowDeck.cardPack.name}\n                    </div>\n                  </th>\n                {sortedDecks.map((colDeck, colIndex) => {\n                  const value = activeMatrix[rowIndex]?.[colIndex];\n                  const isSame = rowDeck.id === colDeck.id;\n                  return (\n                      <td\n                        key={colDeck.id}\n                        className=\"border border-zinc-300 px-2 py-3 text-sm\"\n                      >\n                        {isSame ? (\n                          <span className=\"text-base font-semibold text-zinc-400\">\n                            *\n                          </span>\n                        ) : value === undefined ? (\n                          <span className=\"text-zinc-400\">—</span>\n                        ) : (\n                          <span className=\"font-semibold text-zinc-900\">\n                            {formatRate(value)}\n                          </span>\n                        )}\n                      </td>\n                    );\n                  })}\n                </tr>\n              ))}\n            </tbody>\n          </table>\n          {users.length === 0 && (\n            <p className=\"mt-4 text-sm text-zinc-500\">\n              相性評価が登録されていません。\n            </p>\n          )}\n          {activeTab && activeMatchups.length === 0 && (\n            <p className=\"mt-4 text-sm text-zinc-500\">\n              選択したメンバーの相性評価がありません。\n            </p>\n          )}\n          {!activeTab && users.length > 0 && (\n            <p className=\"mt-4 text-sm text-zinc-500\">\n              メンバーを選択してください。\n            </p>\n          )}\n        </div>\n      </div>\n    </section>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 523, "column": 0}, "map": {"version":3,"sources":["file:///Users/k-hosaka/Project/private-dev/shadowverse-beyond-matchup/app/components/MatchupManager.tsx"],"sourcesContent":["\"use client\";\n\nimport { useRouter } from \"next/navigation\";\nimport { useEffect, useMemo, useRef, useState, useTransition } from \"react\";\n\nimport StatsTable from \"@/app/components/StatsTable\";\n\ntype CardPack = {\n  id: number;\n  name: string;\n  releaseDate: string;\n};\n\ntype Deck = {\n  id: number;\n  name: string;\n  deckClass: string;\n  cardPack: CardPack;\n};\n\ntype Matchup = {\n  id: number;\n  deck1: Deck;\n  deck2: Deck;\n  user: User;\n  winRate: number;\n};\n\ntype Props = {\n  decks: Deck[];\n  cardPacks: CardPack[];\n  matchups: Matchup[];\n  statsMatchups: Matchup[];\n};\n\ntype User = {\n  id: number;\n  name: string;\n};\n\nconst deckClassLabels: Record<string, string> = {\n  ELF: \"エルフ\",\n  ROYAL: \"ロイヤル\",\n  WITCH: \"ウィッチ\",\n  NIGHTMARE: \"ナイトメア\",\n  DRAGON: \"ドラゴン\",\n  BISHOP: \"ビショップ\",\n  NEMESIS: \"ネメシス\",\n};\n\nconst deckClassOrder = [\n  \"ELF\",\n  \"ROYAL\",\n  \"WITCH\",\n  \"DRAGON\",\n  \"NIGHTMARE\",\n  \"BISHOP\",\n  \"NEMESIS\",\n] as const;\nconst deckClassRank = new Map(deckClassOrder.map((value, index) => [value, index]));\n\nconst winRateOptions = Array.from({ length: 21 }, (_, index) => index * 5);\n\ntype MatrixCell =\n  | { type: \"self\" }\n  | { type: \"empty\"; deck1Id: number; deck2Id: number }\n  | {\n      type: \"value\";\n      deck1Id: number;\n      deck2Id: number;\n      value: number;\n      recordId: number;\n      storedDeck1Id: number;\n      storedDeck2Id: number;\n      reversed: boolean;\n    };\n\nconst buildMatrix = (decks: Deck[], matchups: Matchup[]) => {\n  const direct = new Map<string, Matchup>();\n  for (const matchup of matchups) {\n    direct.set(`${matchup.deck1.id}:${matchup.deck2.id}`, matchup);\n  }\n\n  const matrix: MatrixCell[][] = decks.map((row) =>\n    decks.map((col) => {\n      if (row.id === col.id) return { type: \"self\" };\n      const key = `${row.id}:${col.id}`;\n      const reverseKey = `${col.id}:${row.id}`;\n      const directMatch = direct.get(key);\n      if (directMatch) {\n        return {\n          type: \"value\",\n          deck1Id: row.id,\n          deck2Id: col.id,\n          value: directMatch.winRate,\n          recordId: directMatch.id,\n          storedDeck1Id: directMatch.deck1.id,\n          storedDeck2Id: directMatch.deck2.id,\n          reversed: false,\n        };\n      }\n      const reverseMatch = direct.get(reverseKey);\n      if (reverseMatch) {\n        return {\n          type: \"value\",\n          deck1Id: row.id,\n          deck2Id: col.id,\n          value: 100 - reverseMatch.winRate,\n          recordId: reverseMatch.id,\n          storedDeck1Id: reverseMatch.deck1.id,\n          storedDeck2Id: reverseMatch.deck2.id,\n          reversed: true,\n        };\n      }\n      return { type: \"empty\", deck1Id: row.id, deck2Id: col.id };\n    })\n  );\n\n  return matrix;\n};\n\nexport default function MatchupManager({\n  decks,\n  cardPacks,\n  matchups,\n  statsMatchups,\n}: Props) {\n  const router = useRouter();\n  const [isPending, startTransition] = useTransition();\n  const [matrixEdit, setMatrixEdit] = useState<{\n    deck1Id: number;\n    deck2Id: number;\n    recordId?: number;\n    storedDeck1Id?: number;\n    storedDeck2Id?: number;\n    reversed?: boolean;\n  } | null>(null);\n  const [lastSaved, setLastSaved] = useState<{\n    deck1Id: number;\n    deck2Id: number;\n    value: number;\n  } | null>(null);\n  const [matrixWinRate, setMatrixWinRate] = useState(\"\");\n  const [matrixMessage, setMatrixMessage] = useState<string | null>(null);\n  const [flashMessage, setFlashMessage] = useState<string | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [deckName, setDeckName] = useState(\"\");\n  const [deckClass, setDeckClass] = useState(\"\");\n  const [cardPackId, setCardPackId] = useState(\"\");\n  const [editingDeckId, setEditingDeckId] = useState<number | null>(null);\n  const [activePackId, setActivePackId] = useState<number | null>(null);\n  const [activeTab, setActiveTab] = useState<\"input\" | \"stats\">(\"input\");\n  const deckFormRef = useRef<HTMLDivElement | null>(null);\n\n  useEffect(() => {\n    if (activePackId !== null || cardPacks.length === 0) return;\n    setActivePackId(cardPacks[0].id);\n  }, [activePackId, cardPacks]);\n\n  useEffect(() => {\n    if (!activePackId) return;\n    setCardPackId(String(activePackId));\n  }, [activePackId]);\n\n  const filteredDecks = useMemo(() => {\n    if (!activePackId) return [];\n    return decks.filter((deck) => deck.cardPack.id === activePackId);\n  }, [activePackId, decks]);\n  const sortedDecks = useMemo(() => {\n    return filteredDecks.slice().sort((a, b) => {\n      const rankA = deckClassRank.get(a.deckClass) ?? 999;\n      const rankB = deckClassRank.get(b.deckClass) ?? 999;\n      if (rankA !== rankB) return rankA - rankB;\n      return a.id - b.id;\n    });\n  }, [filteredDecks]);\n  const filteredStatsMatchups = useMemo(() => {\n    if (!activePackId) return [];\n    return statsMatchups.filter(\n      (matchup) => matchup.deck1.cardPack.id === activePackId\n    );\n  }, [activePackId, statsMatchups]);\n\n  const filteredMatchups = useMemo(() => {\n    if (!activePackId) return [];\n    return matchups.filter(\n      (matchup) =>\n        matchup.deck1.cardPack.id === activePackId &&\n        matchup.deck2.cardPack.id === activePackId\n    );\n  }, [activePackId, matchups]);\n\n  const matchupMatrix = useMemo(\n    () => buildMatrix(sortedDecks, filteredMatchups),\n    [sortedDecks, filteredMatchups]\n  );\n  const currentValue = useMemo(() => {\n    if (!lastSaved) return null;\n    const rowIndex = sortedDecks.findIndex(\n      (deck) => deck.id === lastSaved.deck1Id\n    );\n    const colIndex = sortedDecks.findIndex(\n      (deck) => deck.id === lastSaved.deck2Id\n    );\n    if (rowIndex < 0 || colIndex < 0) return null;\n    const cell = matchupMatrix[rowIndex]?.[colIndex];\n    if (!cell || cell.type !== \"value\") return null;\n    return cell.value;\n  }, [sortedDecks, matchupMatrix, lastSaved]);\n\n  useEffect(() => {\n    if (!lastSaved || currentValue === null) return;\n    if (Math.abs(currentValue - lastSaved.value) < 0.001) {\n      setLastSaved(null);\n    }\n  }, [currentValue, lastSaved]);\n\n  const overrideValue = (rowId: number, colId: number) => {\n    if (!matrixEdit) return null;\n    if (matrixWinRate === \"\") return null;\n    const raw = Number(matrixWinRate);\n    if (!Number.isFinite(raw)) return null;\n    if (rowId === matrixEdit.deck1Id && colId === matrixEdit.deck2Id) {\n      return raw;\n    }\n    if (rowId === matrixEdit.deck2Id && colId === matrixEdit.deck1Id) {\n      return 100 - raw;\n    }\n    return null;\n  };\n\n  const pendingOverrideValue = (rowId: number, colId: number) => {\n    if (!lastSaved) return null;\n    if (rowId === lastSaved.deck1Id && colId === lastSaved.deck2Id) {\n      return lastSaved.value;\n    }\n    if (rowId === lastSaved.deck2Id && colId === lastSaved.deck1Id) {\n      return 100 - lastSaved.value;\n    }\n    return null;\n  };\n\n  const onMatrixSelect = (cell: MatrixCell) => {\n    if (cell.type === \"self\") return;\n    setError(null);\n    setFlashMessage(null);\n    setMatrixEdit({\n      deck1Id: cell.deck1Id,\n      deck2Id: cell.deck2Id,\n      recordId: cell.type === \"value\" ? cell.recordId : undefined,\n      storedDeck1Id: cell.type === \"value\" ? cell.storedDeck1Id : undefined,\n      storedDeck2Id: cell.type === \"value\" ? cell.storedDeck2Id : undefined,\n      reversed: cell.type === \"value\" ? cell.reversed : undefined,\n    });\n    setMatrixWinRate(cell.type === \"value\" ? String(cell.value) : \"\");\n  };\n\n  const onMatrixSave = async () => {\n    if (!matrixEdit) return;\n    if (matrixWinRate === \"\") {\n      setError(\"相性評価を選択してください。\");\n      return;\n    }\n    const inputRate = Number(matrixWinRate);\n    if (!Number.isFinite(inputRate)) {\n      setError(\"相性評価を選択してください。\");\n      return;\n    }\n    const payload = {\n      deck1Id: matrixEdit.recordId\n        ? (matrixEdit.storedDeck1Id ?? matrixEdit.deck1Id)\n        : matrixEdit.deck1Id,\n      deck2Id: matrixEdit.recordId\n        ? (matrixEdit.storedDeck2Id ?? matrixEdit.deck2Id)\n        : matrixEdit.deck2Id,\n      winRate:\n        matrixEdit.recordId && matrixEdit.reversed ? 100 - inputRate : inputRate,\n    };\n    const targetUrl = matrixEdit.recordId\n      ? `/api/matchups/${matrixEdit.recordId}`\n      : \"/api/matchups\";\n    const method = matrixEdit.recordId ? \"PUT\" : \"POST\";\n    const res = await fetch(targetUrl, {\n      method,\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(payload),\n    });\n    if (!res.ok) {\n      const data = await res.json().catch(() => ({}));\n      setError(data?.error ?? \"更新に失敗しました。\");\n      return;\n    }\n    setMatrixEdit(null);\n    setMatrixWinRate(\"\");\n    setLastSaved({\n      deck1Id: matrixEdit.deck1Id,\n      deck2Id: matrixEdit.deck2Id,\n      value: Number(matrixWinRate),\n    });\n    setMatrixMessage(\"更新しました！\");\n    setFlashMessage(null);\n    startTransition(() => router.refresh());\n  };\n\n  const onMatrixDelete = async () => {\n    if (!matrixEdit?.recordId) return;\n    const res = await fetch(`/api/matchups/${matrixEdit.recordId}`, {\n      method: \"DELETE\",\n    });\n    if (!res.ok) {\n      const data = await res.json().catch(() => ({}));\n      setError(data?.error ?? \"削除に失敗しました。\");\n      return;\n    }\n    setMatrixEdit(null);\n    setMatrixWinRate(\"\");\n    setFlashMessage(\"削除しました！\");\n    startTransition(() => router.refresh());\n  };\n\n  const onDeckSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    setError(null);\n\n    if (deckName.trim().length < 1 || deckName.trim().length > 100) {\n      setError(\"デッキ名は1〜100文字で入力してください。\");\n      return;\n    }\n    if (!deckClass) {\n      setError(\"クラスを選択してください。\");\n      return;\n    }\n    if (!cardPackId) {\n      setError(\"カードパックを選択してください。\");\n      return;\n    }\n\n    const targetUrl = editingDeckId ? `/api/decks/${editingDeckId}` : \"/api/decks\";\n    const method = editingDeckId ? \"PUT\" : \"POST\";\n    const res = await fetch(targetUrl, {\n      method,\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        name: deckName.trim(),\n        deckClass,\n        cardPackId: Number(cardPackId),\n      }),\n    });\n\n    if (!res.ok) {\n      const data = await res.json().catch(() => ({}));\n      setError(data?.error ?? \"登録に失敗しました。\");\n      return;\n    }\n\n    setDeckName(\"\");\n    setDeckClass(\"\");\n    setCardPackId(activePackId ? String(activePackId) : \"\");\n    setEditingDeckId(null);\n    setFlashMessage(null);\n    startTransition(() => router.refresh());\n  };\n\n  const onDeckEdit = (deck: Deck) => {\n    setDeckName(deck.name);\n    setDeckClass(deck.deckClass);\n    setCardPackId(String(deck.cardPack.id));\n    setEditingDeckId(deck.id);\n    setActiveTab(\"input\");\n    setError(null);\n    setTimeout(() => {\n      deckFormRef.current?.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\n    }, 0);\n  };\n\n  const onDeckDelete = async (id: number) => {\n    setError(null);\n    const res = await fetch(`/api/decks/${id}`, { method: \"DELETE\" });\n    if (!res.ok) {\n      const data = await res.json().catch(() => ({}));\n      setError(data?.error ?? \"削除に失敗しました。\");\n      return;\n    }\n    setFlashMessage(\"削除しました！\");\n    startTransition(() => router.refresh());\n  };\n\n  return (\n    <div className=\"space-y-8\">\n      <section className=\"rounded-2xl bg-transparent\">\n        <div className=\"flex flex-wrap gap-2 px-4 pt-3\">\n          {cardPacks.map((pack) => (\n            <button\n              key={pack.id}\n              type=\"button\"\n              className={`relative -mb-px rounded-t-xl border border-b-0 px-5 py-2 text-xs font-semibold transition ${\n                activePackId === pack.id\n                  ? \"border-zinc-900 bg-white text-zinc-900\"\n                  : \"border-zinc-200 bg-zinc-100 text-zinc-600 hover:bg-zinc-200\"\n              }`}\n              onClick={() => setActivePackId(pack.id)}\n            >\n              {pack.name}\n            </button>\n          ))}\n        </div>\n        <div className=\"-mt-px rounded-t-2xl rounded-b-2xl border-x border-b border-zinc-200 bg-white p-6 shadow-sm\">\n          <div>\n            <p className=\"text-xs font-semibold uppercase tracking-[0.3em] text-zinc-400\">\n              Matchups\n            </p>\n            <h2 className=\"mt-2 text-2xl font-semibold text-zinc-900\">\n              相性登録\n            </h2>\n          </div>\n          <div className=\"mt-6 flex flex-wrap gap-2\">\n            <button\n              type=\"button\"\n              className={`rounded-full border px-4 py-2 text-xs font-semibold transition ${\n                activeTab === \"input\"\n                  ? \"border-zinc-900 bg-zinc-900 text-white\"\n                  : \"border-zinc-200 text-zinc-600 hover:bg-zinc-100\"\n              }`}\n              onClick={() => setActiveTab(\"input\")}\n            >\n              相性入力\n            </button>\n            <button\n              type=\"button\"\n              className={`rounded-full border px-4 py-2 text-xs font-semibold transition ${\n                activeTab === \"stats\"\n                  ? \"border-zinc-900 bg-zinc-900 text-white\"\n                  : \"border-zinc-200 text-zinc-600 hover:bg-zinc-100\"\n              }`}\n              onClick={() => setActiveTab(\"stats\")}\n            >\n              統計\n            </button>\n          </div>\n\n          {activeTab === \"stats\" && (\n            <div className=\"mt-8 border-t border-zinc-100 pt-8\">\n              <StatsTable\n                decks={sortedDecks}\n                matchups={filteredStatsMatchups}\n                embedded\n              />\n            </div>\n          )}\n\n          {flashMessage && (\n            <p className=\"mt-4 text-sm font-semibold text-emerald-600\">\n              {flashMessage}\n            </p>\n          )}\n          {activeTab === \"input\" && matrixMessage && (\n            <p className=\"mt-4 text-sm font-semibold text-emerald-600\">\n              {matrixMessage}\n            </p>\n          )}\n\n          {activeTab === \"input\" && (\n            <div className=\"mt-6 overflow-x-auto\">\n              <table className=\"min-w-full table-fixed border-collapse text-center text-sm text-zinc-700\">\n                <thead className=\"bg-white text-xs uppercase tracking-wider text-zinc-400\">\n                  <tr>\n                    <th className=\"w-44 border border-zinc-300 bg-white px-3 py-2 text-left text-zinc-500\">\n                      デッキ\n                    </th>\n                    {sortedDecks.map((deck) => (\n                      <th\n                        key={deck.id}\n                        className=\"min-w-[110px] border border-zinc-300 bg-white px-2 py-2 text-xs text-zinc-500\"\n                      >\n                        <div className=\"font-semibold text-zinc-900\">\n                          {deck.name}\n                        </div>\n                      </th>\n                    ))}\n                  </tr>\n                </thead>\n                <tbody>\n                  {sortedDecks.map((rowDeck, rowIndex) => (\n                    <tr key={rowDeck.id}>\n                      <th className=\"border border-zinc-300 bg-white px-3 py-3 text-left text-sm font-semibold text-zinc-900\">\n                        {rowDeck.name}\n                      </th>\n                      {sortedDecks.map((colDeck, colIndex) => {\n                        const cell = matchupMatrix[rowIndex]?.[colIndex];\n                        const isSelf = cell?.type === \"self\";\n                        const display =\n                          cell?.type === \"value\" ? cell.value : undefined;\n                        const override =\n                          overrideValue(rowDeck.id, colDeck.id) ??\n                          pendingOverrideValue(rowDeck.id, colDeck.id);\n                        return (\n                          <td\n                            key={colDeck.id}\n                            className={`border border-zinc-300 px-2 py-3 text-sm ${\n                              isSelf ? \"bg-zinc-50\" : \"hover:bg-zinc-100\"\n                            }`}\n                          >\n                            {isSelf ? (\n                              <span className=\"text-base font-semibold text-zinc-400\">\n                                *\n                              </span>\n                            ) : (\n                              <button\n                                type=\"button\"\n                                className=\"w-full font-semibold text-zinc-900\"\n                                onClick={() => cell && onMatrixSelect(cell)}\n                              >\n                                {override !== null\n                                  ? override\n                                  : display === undefined\n                                    ? \"—\"\n                                    : display}\n                              </button>\n                            )}\n                          </td>\n                        );\n                      })}\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n              {sortedDecks.length === 0 && (\n                <p className=\"mt-4 text-sm text-zinc-500\">\n                  このカードパックのデッキがありません。\n                </p>\n              )}\n            </div>\n          )}\n\n          {activeTab === \"input\" && matrixEdit && (\n            <div className=\"mt-6 rounded-xl border border-zinc-200 bg-zinc-50 px-4 py-4\">\n              <div className=\"flex flex-wrap items-center justify-between gap-4\">\n                <div>\n                  <p className=\"text-sm font-semibold text-zinc-900\">\n                    相性の編集\n                  </p>\n                  <p className=\"text-xs text-zinc-500\">\n                    {filteredDecks.find((deck) => deck.id === matrixEdit.deck1Id)\n                      ?.name}{\" \"}\n                    vs{\" \"}\n                    {filteredDecks.find((deck) => deck.id === matrixEdit.deck2Id)\n                      ?.name}\n                  </p>\n                </div>\n                <div className=\"flex flex-wrap items-center gap-2\">\n                  <select\n                    className=\"rounded-lg border border-zinc-200 px-3 py-2 text-sm text-zinc-900 focus:border-zinc-400 focus:outline-none\"\n                    value={matrixWinRate}\n                    onChange={(event) => setMatrixWinRate(event.target.value)}\n                  >\n                    <option value=\"\">選択してください</option>\n                    {winRateOptions.map((value) => (\n                      <option key={value} value={value}>\n                        {value}\n                      </option>\n                    ))}\n                  </select>\n                  <button\n                    type=\"button\"\n                    className=\"rounded-lg bg-zinc-900 px-4 py-2 text-xs font-semibold text-white hover:bg-zinc-800\"\n                    onClick={onMatrixSave}\n                  >\n                    保存\n                  </button>\n                  {matrixEdit.recordId && (\n                    <button\n                      type=\"button\"\n                      className=\"rounded-lg border border-zinc-200 px-4 py-2 text-xs font-semibold text-zinc-700 hover:bg-zinc-100\"\n                      onClick={onMatrixDelete}\n                    >\n                      削除\n                    </button>\n                  )}\n                  <button\n                    type=\"button\"\n                    className=\"rounded-lg border border-zinc-200 px-4 py-2 text-xs font-semibold text-zinc-700 hover:bg-zinc-100\"\n                    onClick={() => setMatrixEdit(null)}\n                  >\n                    閉じる\n                  </button>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {activeTab === \"input\" && (\n            <div\n              ref={deckFormRef}\n              className=\"mt-10 border-t border-zinc-100 pt-8\"\n            >\n              <div>\n                <p className=\"text-xs font-semibold uppercase tracking-[0.3em] text-zinc-400\">\n                  Decks\n                </p>\n                <h2 className=\"mt-2 text-2xl font-semibold text-zinc-900\">\n                  {editingDeckId ? \"デッキの編集\" : \"デッキ追加\"}\n                </h2>\n                {editingDeckId && (\n                  <p className=\"mt-2 text-sm text-emerald-600\">\n                    編集中のデッキが選択されています。内容を更新して保存してください。\n                  </p>\n                )}\n              </div>\n\n              <form\n                className=\"mt-6 grid gap-4 md:grid-cols-3\"\n                onSubmit={onDeckSubmit}\n              >\n                <label className=\"flex flex-col gap-2 text-sm text-zinc-700\">\n                  クラス\n                  <select\n                    className=\"rounded-lg border border-zinc-200 px-3 py-2 text-sm text-zinc-900 focus:border-zinc-400 focus:outline-none\"\n                    value={deckClass}\n                    onChange={(event) => setDeckClass(event.target.value)}\n                  >\n                    <option value=\"\">選択してください</option>\n                    {Object.entries(deckClassLabels).map(([value, label]) => (\n                      <option key={value} value={value}>\n                        {label}\n                      </option>\n                    ))}\n                  </select>\n                </label>\n                <label className=\"flex flex-col gap-2 text-sm text-zinc-700 md:col-span-2\">\n                  デッキ名\n                  <input\n                    className=\"rounded-lg border border-zinc-200 px-3 py-2 text-sm text-zinc-900 focus:border-zinc-400 focus:outline-none\"\n                    value={deckName}\n                    onChange={(event) => setDeckName(event.target.value)}\n                    placeholder=\"デッキ名を入力\"\n                  />\n                </label>\n                <div className=\"flex flex-col gap-2 text-sm text-zinc-700 md:col-span-2\">\n                  カードパック\n                  <div className=\"rounded-lg border border-zinc-200 bg-zinc-50 px-3 py-2 text-sm text-zinc-700\">\n                    {cardPacks.find((pack) => pack.id === activePackId)?.name ??\n                      \"未選択\"}\n                  </div>\n                </div>\n              <div className=\"flex items-end\">\n                <button\n                  className=\"w-full rounded-lg bg-zinc-900 px-4 py-2 text-sm font-semibold text-white hover:bg-zinc-800 disabled:cursor-not-allowed disabled:bg-zinc-400\"\n                  type=\"submit\"\n                  disabled={isPending}\n                >\n                  {editingDeckId ? \"更新する\" : \"追加する\"}\n                </button>\n              </div>\n              {editingDeckId && (\n                <button\n                  type=\"button\"\n                  className=\"w-full rounded-lg border border-zinc-200 px-4 py-2 text-sm font-semibold text-zinc-700 hover:bg-zinc-100 md:col-span-3 md:w-auto\"\n                  onClick={() => {\n                    setDeckName(\"\");\n                    setDeckClass(\"\");\n                    setCardPackId(activePackId ? String(activePackId) : \"\");\n                    setEditingDeckId(null);\n                  }}\n                >\n                  編集をやめる\n                </button>\n              )}\n            </form>\n              {error && <p className=\"mt-3 text-sm text-red-600\">{error}</p>}\n            </div>\n          )}\n\n          {activeTab === \"input\" && (\n            <div className=\"mt-10 border-t border-zinc-100 pt-8\">\n              <div className=\"flex items-center justify-between\">\n                <h3 className=\"text-lg font-semibold text-zinc-900\">\n                  登録済みデッキ\n                </h3>\n                <span className=\"text-sm text-zinc-500\">\n                  {filteredDecks.length}件\n                </span>\n              </div>\n              <div className=\"mt-4 space-y-3\">\n                {filteredDecks.length === 0 && (\n                  <p className=\"text-sm text-zinc-500\">まだ登録がありません。</p>\n                )}\n                {filteredDecks.map((deck) => (\n                  <div\n                    key={deck.id}\n                    className=\"flex flex-wrap items-center justify-between gap-3 rounded-lg border border-zinc-100 bg-zinc-50 px-4 py-3\"\n                  >\n                    <div>\n                      <p className=\"text-sm font-semibold text-zinc-900\">\n                        {deck.name}\n                      </p>\n                      <p className=\"text-xs text-zinc-500\">\n                        {deckClassLabels[deck.deckClass] ?? deck.deckClass} /{\" \"}\n                        {deck.cardPack.name}\n                      </p>\n                    </div>\n                    <div className=\"flex items-center gap-3\">\n                      <button\n                        className=\"text-sm font-semibold text-zinc-700 hover:text-zinc-900\"\n                        onClick={() => onDeckEdit(deck)}\n                        type=\"button\"\n                      >\n                        編集\n                      </button>\n                      <button\n                        className=\"text-sm font-semibold text-red-600 hover:text-red-700\"\n                        onClick={() => onDeckDelete(deck.id)}\n                        type=\"button\"\n                      >\n                        削除\n                      </button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      </section>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}